(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{469:function(t,e,n){var content=n(539);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("5449619b",content,!0,{sourceMap:!1})},470:function(t,e,n){var content=n(541);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("1e6b4420",content,!0,{sourceMap:!1})},471:function(t,e,n){var content=n(543);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("de2ae92e",content,!0,{sourceMap:!1})},472:function(t,e,n){var content=n(545);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("5ed5e866",content,!0,{sourceMap:!1})},473:function(t,e,n){var content=n(547);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(22).default)("0bd4a5e5",content,!0,{sourceMap:!1})},538:function(t,e,n){"use strict";var l=n(469);n.n(l).a},539:function(t,e,n){(t.exports=n(21)(!1)).push([t.i,".flight-title[data-v-bf1af21e]{padding:0 15px;border:1px solid #ddd;background:#f6f6f6;height:38px;line-height:38px;color:#666;font-size:12px;margin-bottom:10px}.flight-title>div[data-v-bf1af21e]{text-align:center}",""])},540:function(t,e,n){"use strict";var l=n(470);n.n(l).a},541:function(t,e,n){(t.exports=n(21)(!1)).push([t.i,".flight-item[data-v-ddcb94c2]{border:1px solid #ddd;margin-bottom:10px}.flight-item .flight-info[data-v-ddcb94c2]{padding:15px;cursor:pointer}.flight-item .flight-info>div[data-v-ddcb94c2]:first-child,.flight-item .flight-info>div[data-v-ddcb94c2]:last-child{text-align:center}.flight-item .flight-info-center[data-v-ddcb94c2]{padding:0 30px;text-align:center}.flight-item .flight-info-center .flight-airport strong[data-v-ddcb94c2]{display:block;font-size:24px;font-weight:400}.flight-item .flight-info-center .flight-airport span[data-v-ddcb94c2]{font-size:12px;color:#999}.flight-item .flight-info-center .flight-time span[data-v-ddcb94c2]{display:inline-block;padding:10px 0;border-bottom:1px solid #eee;color:#999}.flight-item .flight-info-right .sell-price[data-v-ddcb94c2]{font-size:24px;color:orange;margin:0 2px}.flight-recommend[data-v-ddcb94c2]{background:#f6f6f6;border-top:1px solid #eee;padding:0 20px}.flight-recommend .flight-sell[data-v-ddcb94c2]{border-bottom:1px solid #eee;padding:10px 0}.flight-recommend .flight-sell[data-v-ddcb94c2]:last-child{border-bottom:none}.flight-recommend .flight-sell .flight-sell-left[data-v-ddcb94c2]{font-size:12px}.flight-recommend .flight-sell .flight-sell-left span[data-v-ddcb94c2]{color:green}.flight-recommend .flight-sell .price[data-v-ddcb94c2]{font-size:20px;color:orange}.flight-recommend .flight-sell .choose-button[data-v-ddcb94c2]{text-align:center;color:#666}.flight-recommend .flight-sell .choose-button button[data-v-ddcb94c2]{display:block;width:100%;margin-bottom:5px}",""])},542:function(t,e,n){"use strict";var l=n(471);n.n(l).a},543:function(t,e,n){(t.exports=n(21)(!1)).push([t.i,".filters[data-v-4cc4409a]{margin-bottom:20px}.filters-top>div[data-v-4cc4409a] .el-select{margin-left:10px}.filter-cancel[data-v-4cc4409a]{margin-top:10px}",""])},544:function(t,e,n){"use strict";var l=n(472);n.n(l).a},545:function(t,e,n){(t.exports=n(21)(!1)).push([t.i,".statement[data-v-527b52c8]{border:1px solid #ddd}.statement .statement-list[data-v-527b52c8]{padding:10px 0}.statement .statement-list>div[data-v-527b52c8]{text-align:center}.statement .statement-list>div i[data-v-527b52c8]{display:block;font-size:40px}.statement .statement-list>div span[data-v-527b52c8]{font-size:12px}.statement .service-tel[data-v-527b52c8]{height:32px;line-height:32px;padding:0 10px;background:#f6f6f6;font-size:14px}.history[data-v-527b52c8]{border:1px solid #ddd;padding:10px;margin-top:10px}.history h5[data-v-527b52c8]{font-size:16px;font-weight:400;padding-bottom:10px;border-bottom:1px solid #eee}.history .history-item[data-v-527b52c8]{padding:10px 0;font-size:14px;border-bottom:1px solid #eee}.history .history-item[data-v-527b52c8]:last-child{border:none}.history .history-item .to-from[data-v-527b52c8]{margin-bottom:5px}.history .history-item p[data-v-527b52c8]{font-size:12px;color:#666}.history .history-item span[data-v-527b52c8]{color:#fff;display:block;padding:2px 10px;background:orange;border-radius:4px;font-size:12px;cursor:pointer}",""])},546:function(t,e,n){"use strict";var l=n(473);n.n(l).a},547:function(t,e,n){(t.exports=n(21)(!1)).push([t.i,".contianer[data-v-6a12d026]{width:1000px;margin:20px auto}.flights-content[data-v-6a12d026]{width:745px;font-size:14px}.aside[data-v-6a12d026]{width:240px}",""])},639:function(t,e,n){"use strict";n.r(e);n(127),n(42),n(23),n(16),n(57);var l=n(58),o={},r=(n(538),n(11)),c=Object(r.a)(o,function(){var t=this.$createElement,e=this._self._c||t;return e("el-row",{staticClass:"flight-title"},[e("el-col",{attrs:{span:5}},[this._v("\n        航空信息\n    ")]),this._v(" "),e("el-col",{attrs:{span:14}},[e("el-row",{attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:12}},[this._v("\n                起飞时间\n            ")]),this._v(" "),e("el-col",{attrs:{span:12}},[this._v("\n                到达时间\n            ")])],1)],1),this._v(" "),e("el-col",{attrs:{span:5}},[this._v("\n        价格\n    ")])],1)},[],!1,null,"bf1af21e",null).exports,d=(n(128),{data:function(){return{isShow:!1}},props:{data:{type:Object,default:{}}},computed:{rankTime:function(){var t=this.data.dep_time.split(":"),e=this.data.arr_time.split(":");e[0]<t[0]&&(e[0]+=24);var n=60*e[0]+ +e[1]-(60*t[0]+ +t[1]),l=Math.floor(n/60),o=n%60;return"".concat(l,"时").concat(o,"分")}},methods:{handleChoose:function(t){this.$router.push({path:"/air/order",query:{id:this.data.id,seat_xid:t}})}}}),f=(n(540),Object(r.a)(d,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flight-item"},[n("div",{on:{click:function(e){t.isShow=!t.isShow}}},[n("el-row",{staticClass:"flight-info",attrs:{type:"flex",align:"middle"}},[n("el-col",{attrs:{span:6}},[n("span",[t._v(t._s(t.data.airline_name))]),t._v(" "+t._s(t.data.flight_no)+"\n            ")]),t._v(" "),n("el-col",{attrs:{span:12}},[n("el-row",{staticClass:"flight-info-center",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{staticClass:"flight-airport",attrs:{span:8}},[n("strong",[t._v(t._s(t.data.dep_time))]),t._v(" "),n("span",[t._v(t._s(t.data.org_airport_name)+t._s(t.data.org_airport_quay))])]),t._v(" "),n("el-col",{staticClass:"flight-time",attrs:{span:8}},[n("span",[t._v(t._s(t.rankTime))])]),t._v(" "),n("el-col",{staticClass:"flight-airport",attrs:{span:8}},[n("strong",[t._v(t._s(t.data.arr_time))]),t._v(" "),n("span",[t._v(t._s(t.data.dst_airport_name)+t._s(t.data.dst_airport_quay))])])],1)],1),t._v(" "),n("el-col",{staticClass:"flight-info-right",attrs:{span:6}},[t._v("\n                ￥"),n("span",{staticClass:"sell-price"},[t._v(t._s(t.data.base_price/2))]),t._v("起\n            ")])],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"flight-recommend"},[n("el-row",{attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{attrs:{span:4}},[t._v("低价推荐")]),t._v(" "),n("el-col",{attrs:{span:20}},t._l(t.data.seat_infos,function(e,l){return n("el-row",{key:l,staticClass:"flight-sell",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{staticClass:"flight-sell-left",attrs:{span:16}},[n("span",[t._v(t._s(e.name))]),t._v(" | "+t._s(e.supplierName)+"\n                    ")]),t._v(" "),n("el-col",{staticClass:"price",attrs:{span:5}},[t._v("\n                        ￥"+t._s(e.org_settle_price)+"\n                    ")]),t._v(" "),n("el-col",{staticClass:"choose-button",attrs:{span:3}},[n("el-button",{attrs:{type:"warning",size:"mini"},on:{click:function(n){return t.handleChoose(e.seat_xid)}}},[t._v("\n                        选定\n                        ")]),t._v(" "),n("p",[t._v("剩余："+t._s(e.discount))])],1)],1)}),1)],1)],1)])},[],!1,null,"ddcb94c2",null).exports),h=n(55),v={data:function(){return{airport:"",flightTimes:"",company:"",airSize:"",airSizeList:[{label:"大",value:"L"},{label:"中",value:"M"},{label:"小",value:"S"}],filters:{company:{key:"airline_name",value:""},airSize:{key:"plane_size",value:""}}}},props:{data:{type:Object,default:{}}},methods:{handleFilters:function(){var t=this,e=[];this.data.flights.forEach(function(n){var l=!0;Object.keys(t.filters).forEach(function(e){t.filters[e].value&&n[t.filters[e].key]!==t.filters[e].value&&(l=!1)}),l&&e.push(n)}),this.$emit("setDataList",e)},handleAirport:function(t){var e=this.data.flights.filter(function(e){return e.org_airport_name===t});this.$emit("setDataList",e)},handleFlightTimes:function(t){var e=t.split(","),n=Object(h.a)(e,2),l=n[0],o=n[1],r=this.data.flights.filter(function(t){var e=t.dep_time.split(":")[0];return+e>=+l&&+e<+o});this.$emit("setDataList",r)},handleCompany:function(t){this.filters.company.value=t,this.handleFilters()},handleAirSize:function(t){this.filters.airSize.value=t,this.handleFilters()},handleFiltersCancel:function(){this.airport="",this.flightTimes="",this.company="",this.airSize="",this.pageIndex=1,this.$emit("setDataList",this.data.flights)}}},m=(n(542),Object(r.a)(v,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filters"},[n("el-row",{staticClass:"filters-top",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("el-col",{attrs:{span:8}},[t._v("\n            单程： \n            "+t._s(t.data.info.departCity)+" - "+t._s(t.data.info.destCity)+" \n            / \n            "+t._s(t.data.info.departDate)+"\n        ")]),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"起飞机场"},on:{change:t.handleAirport},model:{value:t.airport,callback:function(e){t.airport=e},expression:"airport"}},t._l(t.data.options.airport,function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"起飞时间"},on:{change:t.handleFlightTimes},model:{value:t.flightTimes,callback:function(e){t.flightTimes=e},expression:"flightTimes"}},t._l(t.data.options.flightTimes,function(t,e){return n("el-option",{key:e,attrs:{label:t.from+":00 - "+t.to+":00",value:t.from+","+t.to}})}),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"航空公司"},on:{change:t.handleCompany},model:{value:t.company,callback:function(e){t.company=e},expression:"company"}},t._l(t.data.options.company,function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),n("el-col",{attrs:{span:4}},[n("el-select",{attrs:{size:"mini",placeholder:"机型"},on:{change:t.handleAirSize},model:{value:t.airSize,callback:function(e){t.airSize=e},expression:"airSize"}},t._l(t.airSizeList,function(t,e){return n("el-option",{key:e,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),n("div",{staticClass:"filter-cancel"},[t._v("\n        筛选：\n        "),n("el-button",{attrs:{type:"primary",round:"",plain:"",size:"mini"},on:{click:t.handleFiltersCancel}},[t._v("\n            撤销\n\t\t")])],1)],1)},[],!1,null,"4cc4409a",null).exports),_={data:function(){return{history:[]}},mounted:function(){var t=JSON.parse(localStorage.getItem("airs"))||[];this.history=t}};n(544);function x(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}var y={data:function(){return{flightsData:{info:{},options:{}},cacheFlightsData:{info:{},options:{}},dataList:[],pageIndex:1,pageSize:5,total:0}},components:{FlightsListHead:c,FlightsItem:f,FlightsFilters:m,FlightsAside:Object(r.a)(_,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"aside"},[n("div",{staticClass:"statement"},[n("el-row",{staticClass:"statement-list",attrs:{type:"flex",justify:"space-between"}},[n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont iconweibiaoti-_huabanfuben",staticStyle:{color:"#409EFF"}}),t._v(" "),n("span",[t._v("航协认证")])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont iconbaozheng",staticStyle:{color:"green"}}),t._v(" "),n("span",[t._v("出行保证")])]),t._v(" "),n("el-col",{attrs:{span:8}},[n("i",{staticClass:"iconfont icondianhua",staticStyle:{color:"#409EFF"}}),t._v(" "),n("span",[t._v("7x24")])])],1),t._v(" "),n("p",{staticClass:"service-tel"},[t._v("\n            免费客服电话：4006345678转2\n        ")])],1),t._v(" "),n("div",{staticClass:"history"},[n("h5",[t._v("历史查询")]),t._v(" "),t._l(t.history,function(e,l){return n("nuxt-link",{key:l,attrs:{to:"/air/flights?departCity="+e.departCity+"&departCode="+e.departCode+"&destCity="+e.destCity+"&destCode="+e.destCode+"&departDate="+e.departDate}},[n("el-row",{staticClass:"history-item",attrs:{type:"flex",justify:"space-between",align:"middle"}},[n("div",{staticClass:"air-info"},[n("div",{staticClass:"to-from"},[t._v(t._s(e.departCity)+" - "+t._s(e.destCity))]),t._v(" "),n("p",[t._v(t._s(e.departDate))])]),t._v(" "),n("span",[t._v("选择")])])],1)})],2)])},[],!1,null,"527b52c8",null).exports},watch:{$route:function(){this.getData()}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;this.$axios({url:"airs",params:this.$route.query}).then(function(e){console.log(e),t.flightsData=e.data,t.cacheFlightsData=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?x(source,!0).forEach(function(e){Object(l.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):x(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}({},e.data),t.total=t.flightsData.flights.length,t.dataList=t.flightsData.flights.slice(0,t.pageSize)})},setDataList:function(t){this.flightsData.flights=t,this.pageIndex=1,this.dataList=this.flightsData.flights.slice((this.pageIndex-1)*this.pageSize,this.pageIndex*this.pageSize),this.total=t.length},handleSizeChange:function(t){this.pageSize=t,this.dataList=this.flightsData.flights.slice(0,t)},handleCurrentChange:function(t){this.pageIndex=t,this.dataList=this.flightsData.flights.slice((this.pageIndex-1)*this.pageSize,this.pageIndex*this.pageSize)}}},C=(n(546),Object(r.a)(y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"contianer"},[n("el-row",{attrs:{type:"flex",justify:"space-between"}},[n("div",{staticClass:"flights-content"},[n("FlightsFilters",{attrs:{data:t.cacheFlightsData},on:{setDataList:t.setDataList}}),t._v(" "),n("FlightsListHead"),t._v(" "),n("div",[t._l(t.dataList,function(t,e){return n("FlightsItem",{key:t.id,attrs:{data:t}})}),t._v(" "),n("el-pagination",{attrs:{"current-page":t.pageIndex,"page-sizes":[5,10,15,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],2)],1),t._v(" "),n("FlightsAside")],1)],1)},[],!1,null,"6a12d026",null));e.default=C.exports}}]);